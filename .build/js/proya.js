(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F;o=[],C=0,P=1,w=[{src:"tip2.jpg",id:"tip2"},{src:"tip3.jpg",id:"tip3"},{src:"t1.jpg",id:"t1"},{src:"t2.jpg",id:"t2"},{src:"t3.jpg",id:"t3"},{src:"t4.jpg",id:"t4"},{src:"t5.jpg",id:"t5"},{src:"t6.jpg",id:"t6"},{src:"t7.jpg",id:"t7"},{src:"t8.jpg",id:"t8"},{src:"t9.jpg",id:"t9"},{src:"t10.jpg",id:"t10"},{src:"p2-bg.jpg",id:"p2-bg"},{src:"p2-video.jpg",id:"p2-video"},{src:"p3-left-arrow.png",id:"p3-left-arrow"},{src:"p3-right-arrow.png",id:"p3-right-arrow"},{src:"p3-top.png",id:"p3-top"},{src:"p3-love.png",id:"p3-love"},{src:"p3-share.png",id:"p3-share"},{src:"p3-btn.jpg",id:"p3-btn"},{src:"p3-bottom.png",id:"p3-bottom"},{src:"p4.jpg",id:"p4"},{src:"share-tip.jpg",id:"share-tip"},{src:"p5-bg.jpg",id:"p5-bg"},{src:"p5-b1.png",id:"p5-b1"},{src:"p5-b2.png",id:"p5-b2"},{src:"p5-i1.png",id:"p5-i1"},{src:"p5-i2.png",id:"p5-i2"},{src:"p5-i3.png",id:"p5-i3"},{src:"p5-i4.png",id:"p5-i4"},{src:"p5-i5.png",id:"p5-i5"},{src:"p3-left-arrow.png",id:"p5-left-arrow"},{src:"p3-right-arrow.png",id:"p5-right-arrow"},{src:"p6-bg2.jpg",id:"p6-bg2"},{src:"p6-try.png",id:"p6-try"},{src:"p6-share.png",id:"p6-share"},{src:"p6-close.png",id:"p6-close"},{src:"p6-bg1.jpg",id:"p6-bg1"},{src:"p6-gift.png",id:"p6-gift"},{src:"p6-bg3.jpg",id:"p6-bg3"},{src:"p6-sub.png",id:"p6-sub"}],u=0;while(u<9)u++,u!==5&&(w.push({src:"p3-t"+u+".jpg",id:"p3-t"+u}),w.push({src:"p3-m"+u+".jpg",id:"p3-m"+u}));while(u<5)u++,w.push({src:"p5-i"+u+".png",id:"p5-i"+u});e=0,v="",S=function(){var e,t,n,r;return t=this.windowWidth*.63,e=t*153/466,$("#loading-img").css({width:this.windowWidth*.63}),n=(this.windowHeight-e)/2,$("#loading-img").css({top:n,left:this.windowWidth/2-t/2}),r=n+e+30,$("#loading-label").css({top:r})},A=function(){if(e>10){clearInterval(v);return}return S(),$(".swiper-container").css({width:this.windowWidth,height:this.windowHeight}),$(".swiper-wrapper").css({width:this.windowWidth,height:this.windowHeight}),e++},v=setInterval(A,500),f=function(){return this.windowWidth=$(window).width(),this.windowHeight=$(window).height(),this.ww=$(window).width(),this.wh=$(window).height(),this.scale=this.windowWidth/750,$(".section").hide(),$("#tip").hide(),$("#tip").click(function(){return $("#tip").hide()}),$("#tip2").hide(),$("#tip2").click(function(){return $("#tip2").hide()}),$("#tip3").hide(),$("#tip3").click(function(){return $("#tip3").hide()}),$("#p5-label").css({bottom:62*this.scale}),S()},f(),L=!1,E=5,B=function(){if(L)return;return H(!0)},t=function(){if(L)return;return H(!1)},H=function(e,t,n){var r,i,s,o,u,a,f;if(e&&C>=5||!e&&C<=0)return;f&&(k.show(),a=document.getElementById("video"),a.pause(),$("#video").hide(),f=!1),n&&(P=n),L=!0,s=C,t?C=t:C=e?C+1:C-1,i=e?-this.wh:this.wh,r=e?"animated zoomOutUp":"animated zoomOutDown",$("#section"+s).addClass(r),$("#section"+s).css({"z-index":-100}),$("#section"+s).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){return $("#section"+s).removeClass(r),$("#section"+s).css({top:i}),L=!1}),o=e?this.wh:-this.wh,$("#section"+C).show(),$("#section"+C).css({top:0,"z-index":0}),u=e?"animated slideInUp":"animated slideInDown",console.log(r,u),$("#section"+C).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){return $("#section"+C).removeClass(u)}),$("#section"+C).addClass(u);if(C===2)return n||(n=1),M(!1,n);if(C===4)return P=1,$(".slide").hide(),$("#p5-i1").show()},m=function(){if(L)return;if(C!==2&&C!==4)return;L=!0;if(C===2)return M(!0);if(C===4)return _(!0)},_=function(e){var t,n,r;return n=P,e?P=P<5?P+1:1:P=P>1?P-1:5,r=e?-this.ww:this.ww,$("#p5-i"+n).animate({left:r},500,function(){return L=!1}),t=e?this.ww:-this.ww,$("#p5-i"+P).css({left:t,display:"block"}),$("#p5-i"+P).animate({left:0},500)},M=function(e,t){var n,r,i,s,o;return i=P,t?(P=t,P===6?P=7:P===7&&(P=6)):(e?P=P<8?P+1:1:P=P>1?P-1:8,i===5&&(i=e?6:4),P===5&&(P=e?P+1:P-1),o=e?-this.ww:this.ww),t?(L=!1,console.log("sl",i,t,P),$(".slide").hide(),$("#p3-m"+P).css({left:0,display:"block"})):(console.log(o,e,i,P),r=e?"animated zoomOutLeft":"animated zoomOutRight",$("#p3-m"+i).addClass(r),$("#p3-m"+i).css({"z-index":-100}),$("#p3-m"+i).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){return $("#p3-m"+i).removeClass(r),$("#p3-m"+i).css({left:o}),L=!1}),n=e?this.ww:-this.ww,s=e?"animated slideInRight":"animated slideInLeft",console.log(r,s),$("#p3-m"+P).show(),$("#p3-m"+P).css({left:0,"z-index":0}),$("#p3-m"+P).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){return $("#p3-m"+P).removeClass(s)}),$("#p3-m"+P).addClass(s))},O=function(){if(L)return;if(C!==2&&C!==4)return;L=!0;if(C===2)return M(!1);if(C===4)return _(!1)},s=function(e){var t;return t=e.loaded,$("#loading-label").text(Math.round(t*100)+"%")},r=function(e){return $("#loading-img").animate({opacity:0},800),$("#loading-label").animate({opacity:0},800,function(){var e,n,r;return $("#loading-img").remove(),$("#loading-label").remove(),$("#section0").show(),r=$("#section0"),n=r.find("img"),u=n.length,e=function(){var t,i;console.log("ani",u),u--;if(u>=0)return t=0,i=r.find(n[u]),i.animate({deg:90,opacity:1},{duration:300,step:function(e){if(e>1)return i.css({transform:"rotateY("+(90-e)+"deg)","-webkit-transform":"rotateY("+(90-e)+"deg)"})},complete:function(){return e()}})},e(),$(document).swipe({swipe:function(e,n){return console.log(n),n==="up"?B():n==="down"?t():n==="left"?m():O()}}),H(!0,5)})},a=[],l=function(e,t){var n,r,i,s,u;return e.width*=this.scale,e.height*=this.scale,i=e.width,n=e.height,s=0,u=0,t==="t2"?s=o[0].w:t==="t3"?(u=o[0].h,s=this.windowWidth-o[1].w-i):t==="t4"?u=o[0].h:t==="t5"?(s=o[3].w,u=o[1].h):t==="t6"?u=o[3].h+o[3].y:t==="t7"?(s=o[5].w,u=o[5].y):t==="t8"?u=o[6].y+o[6].h:t==="t9"?(s=o[7].x+o[7].w,u=o[7].y):t==="t10"&&(u=this.windowHeight-n),r=$("#section0"),r.prepend(e),a[t]=e,r.find(e).click(D),r.find(e).css({position:"absolute",left:s,top:u,opacity:0,deg:180,transform:"rotateY(90deg)"}),o.push({w:i,h:n,x:s,y:u})},D=function(e){var t,n,r,i;i=[];for(n in a)r=a[n],r===e.target?(console.log("Got:"+n),t=n.replace("t",""),t!==10?i.push(H(!0,2,parseInt(t))):i.push(void 0)):i.push(void 0);return i},b=0,y=function(){return b++,$("#love-label").text("x"+b)},h=function(e,t){var n,r,i,s,o,u,a;o=$("#section2"),a=(this.windowHeight-722*this.scale)/2,r=a+722*this.scale-10-38*this.scale,$("#love-label").css({left:70*this.scale,top:r+5}),t.indexOf("p3-t")!==-1?(n=t.replace("p3-t",""),$("#p3-m"+n).prepend(e),$("#p3-m"+n).find(e).css({width:432*this.scale,top:90*this.scale,left:178*this.scale,position:"relative","z-index":100})):t.indexOf("p3-m")!==-1?($("#"+t).prepend(e),$("#"+t).find(e).css({width:750*this.scale,top:a,position:"absolute","z-index":100})):o.append(e);if(t==="p3-left-arrow")return o.find(e).css({width:28*this.scale,left:10,top:(this.windowHeight-e.height)/2,position:"absolute","z-index":100});if(t==="p3-right-arrow")return o.find(e).css({width:28*this.scale,right:10,top:(this.windowHeight-e.height)/2,position:"absolute","z-index":100});if(t==="p3-love")return r=a+722*this.scale-10-38*this.scale,o.find(e).css({width:43*this.scale,left:23*this.scale,top:r,position:"absolute","z-index":100}),o.find(e).click(y);if(t==="p3-share")return u=a+722*this.scale-10-76*this.scale,o.find(e).css({width:54*this.scale,right:23*this.scale,top:u,position:"absolute","z-index":100}),o.find(e).click(function(){return $("#tip").show()});if(t==="p3-btn")return s=316*this.scale,o.find(e).on("click",function(){return H(!1,1)}),o.find(e).css({top:722*this.scale+a,width:s,left:(this.windowWidth-s)/2,position:"absolute"});if(t==="p3-bottom")return i=175*this.scale,o.find(e).css({bottom:75*this.scale,width:i,left:(this.windowWidth-i)/2,position:"absolute","z-index":100})},p=function(e,t){var n,r,i;i=$("#section4"),t.indexOf("p5-i")===-1?i.prepend(e):($("#"+t).append(e),r=this.windowHeight<550?160*this.scale:180*this.scale,$("#"+t).find(e).css({width:this.windowWidth,left:0,top:r,position:"relative"})),n=this.windowHeight<550?80*this.scale:120*this.scale;if(t==="p5-bg")return e.width=$(window).width(),i.find(e).css({top:0,position:"absolute"});if(t==="p5-left-arrow")return i.find(e).css({width:28*this.scale,left:10,top:(this.windowHeight-e.height)/2,position:"absolute","z-index":100});if(t==="p5-right-arrow")return i.find(e).css({width:28*this.scale,right:10,top:(this.windowHeight-e.height)/2,position:"absolute","z-index":100});if(t==="p5-b1")return i.find(e).css({width:291*this.scale,left:57*this.scale,bottom:n,position:"absolute"});if(t==="p5-b2")return i.find(e).css({width:291*this.scale,right:57*this.scale,bottom:n,position:"absolute"})},x="",T="",N="",n=!1,d=function(e,t){var r,i,s,o;o=$("#section5"),$("#form").css({width:278*this.scale,height:262*this.scale,left:302*this.scale,top:650*this.scale});if(t==="p6-bg1")return o.prepend(e),e.width=$(window).width(),x=o.find(e),x.addClass("p6p1"),x.css({top:0,position:"absolute"});if(t==="p6-gift")return o.append(e),i=o.find(e),i.addClass("p6p1 animated tada"),i.css({width:367*this.scale,top:554*this.scale,left:this.ww/2-367*this.scale/2,position:"absolute","-webkit-animation-duration":"3s","-webkit-animation-delay":"2s","-webkit-animation-iteration-count":"infinite","animation-duration":"3s","animation-delay":"2s","animation-iteration-count":"infinite"}),i.on("click",function(){var e;return $(".p6p1").hide(),e=Math.random(),n?(n=!1,$(".p6p3").show()):(n=!0,$(".p6p2").show())});if(t==="p6-bg2")return o.prepend(e),e.width=$(window).width(),T=o.find(e),T.hide(),T.addClass("p6p2"),T.css({top:0,position:"absolute",display:"none"});if(t==="p6-bg3")return o.prepend(e),e.width=$(window).width(),s=o.find(e),s.hide(),s.addClass("p6p3"),s.css({top:0,position:"absolute"});if(t==="p6-sub")return o.append(e),o.find(e).addClass("p6p3"),N=o.find(e),o.find(e).on("click",function(){return $("#tip3").show()}),o.find(e).css({top:960*this.scale,width:this.windowWidth/2,left:this.windowWidth/4,position:"absolute",display:"none"});if(t==="p6-try")return o.append(e),o.find(e).addClass("p6p2"),N=o.find(e),o.find(e).on("click",function(){return $(".p6p1").show(),$(".p6p2").hide()}),o.find(e).css({bottom:400*this.scale,width:this.windowWidth/2,left:this.windowWidth/4,position:"absolute",display:"none"});if(t==="p6-share")return o.append(e),o.find(e).addClass("p6p2"),o.find(e).click(function(){return $("#tip2").show()}),o.find(e).css({bottom:292*this.scale,width:this.windowWidth/2,left:this.windowWidth/4,position:"absolute",display:"none"});if(t==="p6-close")return o.append(e),r={width:74*this.scale,height:74*this.scale,top:20*this.scale,right:20*this.scale,position:"absolute"},o.find(e).css(r),o.find(e).on("click",function(){return console.log("close"),wx.closeWindow()})},k="",j=function(){return console.log("end"),$("#video").hide(),k.show()},F=!1,c=function(e,t){var n,r;n=$("#section1");if(t==="p2-bg")return e.width=$(window).width(),n.prepend(e);if(t==="p2-video")return e.width=$(window).width(),n.prepend(e),k=n.find(e),r=document.getElementById("video"),$("#video").on("click",function(){return alert("v"),k.show(),$("#video").hide(),r.pause()}),n.find(e).on("click",function(){return k.hide(),$("#video").show(),r.width=$(window).width(),r.height=$(window).height(),r.play(),F=!0}),n.find(e).css({top:this.windowHeight/2-e.width*e.height/750/2,position:"absolute"})},i=function(e){var t,n,r;t=e.result,n=e.item;if(n.id==="tip2")return t.width=$(window).width(),$("#tip2").append(t);if(n.id==="tip3")return t.width=$(window).width(),$("#tip3").append(t);if(n.id.indexOf("p3")!==-1)return h(t,n.id);if(n.id.indexOf("p2")!==-1)return c(t,n.id);if(n.id==="p4")return r=$("#section3"),t.width=$(window).width(),r.prepend(t);if(n.id==="share-tip")return t.width=$(window).width(),$("#tip").prepend(t);if(n.id.indexOf("p5")!==-1)return p(t,n.id);if(n.id.indexOf("p6")!==-1)return console.log(n.id),d(t,n.id);if(n.id.indexOf("t")!==-1)return l(t,n.id)},g=function(){var e;return e=new createjs.LoadQueue,e.on("progress",s),e.on("complete",r),e.on("fileload",i),e.loadManifest(w,!0,"imgs/home/")},g()}).call(this);